<div class="sidebar-inner d-flex flex-column h-100">
    <!-- ë¡œê³  ì˜ì—­ -->
    <div class="sidebar-brand px-3 py-3 border-bottom border-secondary flex-shrink-0" style="height: 60px;">
        <a href="#/dashboard" class="text-white text-decoration-none d-flex align-items-center">
            <span class="fs-4 me-2">ðŸ“š</span>
            <span class="fs-5 fw-bold">LMS Admin</span>
        </a>
    </div>

    <!-- ë©”ë‰´ ì˜ì—­ -->
    <nav class="sidebar-nav flex-grow-1 py-3" style="overflow-y: auto;">
        <ul class="nav flex-column">
            <!-- ëŒ€ì‹œë³´ë“œ (ì„œë¸Œë©”ë‰´ ì—†ìŒ) -->
            <li class="nav-item">
                <a
                    class="nav-link text-white-50 px-3 py-2"
                    :class="{ 'active bg-primary text-white': activeMenu === 'dashboard' }"
                    href="#/dashboard"
                    @click="setActiveMenu('dashboard')"
                >
                    <span class="me-2">ðŸ“Š</span> ëŒ€ì‹œë³´ë“œ
                </a>
            </li>

            <!-- 2depth ë©”ë‰´ë“¤ -->
            <li class="nav-item" v-for="menu in menusWithSub" :key="menu.id">
                <a
                    class="nav-link text-white-50 px-3 py-2 d-flex justify-content-between align-items-center"
                    :class="{ 'text-white': activeMenu === menu.id }"
                    href="#"
                    @click.prevent="toggleMenu(menu.id)"
                >
                    <span>
                        <span class="me-2">{{ menu.icon }}</span> {{ menu.name }}
                    </span>
                    <span class="small">{{ expandedMenus.includes(menu.id) ? 'â–¼' : 'â–¶' }}</span>
                </a>
                <!-- ì„œë¸Œë©”ë‰´ -->
                <ul class="nav flex-column submenu-list" v-show="expandedMenus.includes(menu.id)">
                    <li class="nav-item" v-for="sub in submenus[menu.id]" :key="sub.id">
                        <a
                            class="nav-link text-white-50 px-3 py-2"
                            :class="{ 'active text-white': activeMenu === menu.id && activeSubmenu === sub.id }"
                            :href="'#' + sub.path"
                            @click="selectSubmenu(menu.id, sub)"
                        >
                            <span class="me-2">{{ sub.icon }}</span> {{ sub.name }}
                            <span v-if="sub.badge" class="badge bg-danger ms-2">{{ sub.badge }}</span>
                        </a>
                    </li>
                </ul>
            </li>
        </ul>
    </nav>

    <!-- í•˜ë‹¨ ì˜ì—­ -->
    <div class="sidebar-footer px-3 py-3 border-top border-secondary flex-shrink-0">
        <a class="nav-link text-white-50 px-0" @click="handleLogout" role="button">
            <span class="me-2">ðŸšª</span> ë¡œê·¸ì•„ì›ƒ
        </a>
    </div>
</div>

<style>
.sidebar-inner {
    width: 100%;
    height: 100%;
}

.sidebar-nav::-webkit-scrollbar {
    width: 4px;
}

.sidebar-nav::-webkit-scrollbar-thumb {
    background: rgba(255,255,255,0.2);
    border-radius: 4px;
}

.sidebar-nav .nav-link {
    border-radius: 6px;
    margin: 2px 8px;
    transition: all 0.2s ease;
}

.sidebar-nav .nav-link:hover {
    background-color: rgba(255, 255, 255, 0.1);
    color: #fff !important;
}

.sidebar-nav .nav-link.active {
    background-color: var(--bs-primary);
    color: #fff !important;
}

.sidebar-nav .submenu-list {
    margin-left: 0;
    padding-left: 0;
}

.sidebar-nav .submenu-list .nav-link {
    font-size: 0.9rem;
    padding-left: 2.5rem;
}
</style>
