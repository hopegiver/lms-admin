<div class="design-page">
    <!-- ÌéòÏù¥ÏßÄ Ìó§Îçî -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h4 class="mb-1">ÎîîÏûêÏù∏</h4>
            <p class="text-muted mb-0">ÏÇ¨Ïù¥Ìä∏ ÌÖåÎßàÏôÄ ÎîîÏûêÏù∏ÏùÑ ÏÑ§Ï†ïÌï©ÎãàÎã§</p>
        </div>
        <button class="btn btn-primary" @click="saveDesign">
            <span class="me-1">üíæ</span> Ï†ÄÏû•
        </button>
    </div>

    <div class="row">
        <!-- ÌÖåÎßà ÏÑ§Ï†ï -->
        <div class="col-md-8">
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">ÌÖåÎßà ÏÑ§Ï†ï</h6>
                </div>
                <div class="card-body">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label class="form-label">Í∏∞Î≥∏ ÏÉâÏÉÅ</label>
                            <div class="d-flex gap-2">
                                <input type="color" class="form-control form-control-color" v-model="design.primaryColor">
                                <input type="text" class="form-control" v-model="design.primaryColor" style="width: 120px;">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Î≥¥Ï°∞ ÏÉâÏÉÅ</label>
                            <div class="d-flex gap-2">
                                <input type="color" class="form-control form-control-color" v-model="design.secondaryColor">
                                <input type="text" class="form-control" v-model="design.secondaryColor" style="width: 120px;">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Í∏ÄÍº¥</label>
                            <select class="form-select" v-model="design.fontFamily">
                                <option value="Pretendard">Pretendard</option>
                                <option value="Noto Sans KR">Noto Sans KR</option>
                                <option value="Spoqa Han Sans">Spoqa Han Sans</option>
                                <option value="IBM Plex Sans KR">IBM Plex Sans KR</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Í∏∞Î≥∏ Í∏ÄÍº¥ ÌÅ¨Í∏∞</label>
                            <select class="form-select" v-model="design.fontSize">
                                <option value="14px">ÏûëÍ≤å (14px)</option>
                                <option value="16px">Î≥¥ÌÜµ (16px)</option>
                                <option value="18px">ÌÅ¨Í≤å (18px)</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Î™®ÏÑúÎ¶¨ Îë•Í∏ÄÍ∏∞</label>
                            <select class="form-select" v-model="design.borderRadius">
                                <option value="0">Í∞ÅÏßÑ Î™®ÏÑúÎ¶¨</option>
                                <option value="4px">ÏïΩÍ∞Ñ Îë•Í∏ÄÍ≤å</option>
                                <option value="8px">Îë•Í∏ÄÍ≤å</option>
                                <option value="16px">ÎßéÏù¥ Îë•Í∏ÄÍ≤å</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Í∑∏Î¶ºÏûê Ïä§ÌÉÄÏùº</label>
                            <select class="form-select" v-model="design.shadowStyle">
                                <option value="none">ÏóÜÏùå</option>
                                <option value="soft">Î∂ÄÎìúÎüΩÍ≤å</option>
                                <option value="medium">Î≥¥ÌÜµ</option>
                                <option value="strong">Í∞ïÌïòÍ≤å</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Î°úÍ≥† ÏÑ§Ï†ï -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">Î°úÍ≥† ÏÑ§Ï†ï</h6>
                </div>
                <div class="card-body">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label class="form-label">Î©îÏù∏ Î°úÍ≥†</label>
                            <div class="border rounded p-4 text-center bg-light mb-2">
                                <img v-if="design.logo" :src="design.logo" alt="Î°úÍ≥†" style="max-height: 60px;">
                                <div v-else class="text-muted">Î°úÍ≥† ÏóÜÏùå</div>
                            </div>
                            <input type="file" class="form-control" accept="image/*" @change="uploadLogo">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">ÌååÎπÑÏΩò</label>
                            <div class="border rounded p-4 text-center bg-light mb-2">
                                <img v-if="design.favicon" :src="design.favicon" alt="ÌååÎπÑÏΩò" style="max-height: 32px;">
                                <div v-else class="text-muted">ÌååÎπÑÏΩò ÏóÜÏùå</div>
                            </div>
                            <input type="file" class="form-control" accept="image/*" @change="uploadFavicon">
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ìó§Îçî ÌÖúÌîåÎ¶ø -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">Ìó§Îçî ÌÖúÌîåÎ¶ø</h6>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div v-for="template in headerTemplates" :key="template.id" class="col-md-6">
                            <div class="border rounded p-3 position-relative"
                                 :class="{ 'border-primary border-2': design.selectedHeaderTemplate === template.id }"
                                 style="cursor: pointer;"
                                 @click="selectHeaderTemplate(template.id)">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <div>
                                        <h6 class="mb-1">{{ template.name }}</h6>
                                        <p class="text-muted small mb-0">{{ template.description }}</p>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio"
                                               :checked="design.selectedHeaderTemplate === template.id"
                                               @click.stop="selectHeaderTemplate(template.id)">
                                    </div>
                                </div>
                                <div class="bg-light rounded p-2 mt-2">
                                    <div class="preview-header-mini" :style="getHeaderPreviewStyle(template)">
                                        <div class="d-flex justify-content-between align-items-center">
                                            <div class="fw-bold small">{{ template.layout }}</div>
                                            <div class="small text-muted">‚ò∞</div>
                                        </div>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <span class="badge bg-light text-dark me-1">{{ template.position }}</span>
                                    <span class="badge bg-light text-dark">{{ template.style }}</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Ìë∏ÌÑ∞ ÌÖúÌîåÎ¶ø -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">Ìë∏ÌÑ∞ ÌÖúÌîåÎ¶ø</h6>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div v-for="template in footerTemplates" :key="template.id" class="col-md-6">
                            <div class="border rounded p-3 position-relative"
                                 :class="{ 'border-primary border-2': design.selectedFooterTemplate === template.id }"
                                 style="cursor: pointer;"
                                 @click="selectFooterTemplate(template.id)">
                                <div class="d-flex justify-content-between align-items-start mb-2">
                                    <div>
                                        <h6 class="mb-1">{{ template.name }}</h6>
                                        <p class="text-muted small mb-0">{{ template.description }}</p>
                                    </div>
                                    <div class="form-check">
                                        <input class="form-check-input" type="radio"
                                               :checked="design.selectedFooterTemplate === template.id"
                                               @click.stop="selectFooterTemplate(template.id)">
                                    </div>
                                </div>
                                <div class="bg-light rounded p-2 mt-2">
                                    <div class="preview-footer-mini" :style="getFooterPreviewStyle(template)">
                                        <div class="small text-center">{{ template.columns }}Îã® Î†àÏù¥ÏïÑÏõÉ</div>
                                    </div>
                                </div>
                                <div class="mt-2">
                                    <span class="badge bg-light text-dark me-1">{{ template.width }}</span>
                                    <span class="badge bg-light text-dark">{{ template.columns }}Îã®</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- Î†àÏù¥ÏïÑÏõÉ ÏÑ§Ï†ï -->
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">Î†àÏù¥ÏïÑÏõÉ ÏÑ§Ï†ï</h6>
                </div>
                <div class="card-body">
                    <div class="row g-4">
                        <div class="col-md-6">
                            <label class="form-label">Ìó§Îçî Ïä§ÌÉÄÏùº</label>
                            <select class="form-select" v-model="design.headerStyle">
                                <option value="fixed">Í≥†Ï†ï Ìó§Îçî</option>
                                <option value="static">ÏùºÎ∞ò Ìó§Îçî</option>
                                <option value="transparent">Ìà¨Î™Ö Ìó§Îçî</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">Ìë∏ÌÑ∞ Ïä§ÌÉÄÏùº</label>
                            <select class="form-select" v-model="design.footerStyle">
                                <option value="full">Ï†ÑÏ≤¥ ÎÑàÎπÑ</option>
                                <option value="contained">Ïª®ÌÖåÏù¥ÎÑà ÎÑàÎπÑ</option>
                                <option value="minimal">ÏµúÏÜå Ìë∏ÌÑ∞</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">ÏµúÎåÄ ÎÑàÎπÑ</label>
                            <select class="form-select" v-model="design.maxWidth">
                                <option value="1200px">1200px</option>
                                <option value="1400px">1400px</option>
                                <option value="1600px">1600px</option>
                                <option value="100%">Ï†ÑÏ≤¥ ÎÑàÎπÑ</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- ÎØ∏Î¶¨Î≥¥Í∏∞ -->
        <div class="col-md-4">
            <div class="card border-0 shadow-sm sticky-top" style="top: 80px;">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">ÎØ∏Î¶¨Î≥¥Í∏∞</h6>
                </div>
                <div class="card-body p-0">
                    <div class="preview-box p-3" :style="previewStyle">
                        <div class="preview-header p-2 mb-3 rounded" :style="{ backgroundColor: design.primaryColor, color: '#fff' }">
                            Ìó§Îçî
                        </div>
                        <div class="preview-content">
                            <div class="preview-card p-3 mb-2 rounded" :style="cardStyle">
                                <div class="fw-bold mb-1">Ïπ¥Îìú Ï†úÎ™©</div>
                                <div class="text-muted small">Ïπ¥Îìú ÎÇ¥Ïö©ÏûÖÎãàÎã§</div>
                            </div>
                            <button class="btn btn-sm w-100" :style="{ backgroundColor: design.primaryColor, color: '#fff', borderRadius: design.borderRadius }">
                                Î≤ÑÌäº
                            </button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
