<div class="content-page">
    <!-- í˜ì´ì§€ í—¤ë” -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h4 class="mb-1">ì½˜í…ì¸ </h4>
            <p class="text-muted mb-0">{{ currentFolderName }} - ë¯¸ë””ì–´ ë¼ì´ë¸ŒëŸ¬ë¦¬ë¥¼ ê´€ë¦¬í•©ë‹ˆë‹¤</p>
        </div>
        <div class="dropdown">
            <button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown">
                <span class="me-1">â•</span> ì½˜í…ì¸  ì¶”ê°€
            </button>
            <ul class="dropdown-menu dropdown-menu-end">
                <li>
                    <button class="dropdown-item" type="button" @click="navigateTo('/learning/content-author')">
                        <span class="me-2">âœ¨</span>
                        <strong>ì½˜í…ì¸  ì œì‘ (ì €ì‘ë„êµ¬)</strong>
                        <div class="small text-muted">ë¸”ë¡ ê¸°ë°˜ ì¸í„°ë™í‹°ë¸Œ ì½˜í…ì¸  ì œì‘</div>
                    </button>
                </li>
                <li><hr class="dropdown-divider"></li>
                <li>
                    <button class="dropdown-item" type="button" @click="openUploadModal">
                        <span class="me-2">ğŸ“¤</span>
                        <strong>íŒŒì¼ ì—…ë¡œë“œ</strong>
                        <div class="small text-muted">ë™ì˜ìƒ, ë¬¸ì„œ, ì´ë¯¸ì§€ íŒŒì¼ ì—…ë¡œë“œ</div>
                    </button>
                </li>
                <li><hr class="dropdown-divider"></li>
                <li>
                    <button class="dropdown-item" type="button" @click="openYoutubeModal">
                        <span class="me-2">ğŸ“º</span>
                        <strong>YouTube ë™ì˜ìƒ</strong>
                        <div class="small text-muted">YouTube URLë¡œ ë™ì˜ìƒ ê°€ì ¸ì˜¤ê¸°</div>
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" type="button" @click="openVimeoModal">
                        <span class="me-2">ğŸ¬</span>
                        <strong>Vimeo ë™ì˜ìƒ</strong>
                        <div class="small text-muted">Vimeo URLë¡œ ë™ì˜ìƒ ê°€ì ¸ì˜¤ê¸°</div>
                    </button>
                </li>
                <li><hr class="dropdown-divider"></li>
                <li>
                    <button class="dropdown-item" type="button" @click="openYoutubeBatchModal">
                        <span class="me-2">ğŸ“º</span>
                        <strong>YouTube ì¼ê´„ ê°€ì ¸ì˜¤ê¸°</strong>
                        <div class="small text-muted">ì¬ìƒëª©ë¡/ì±„ë„ì—ì„œ ì—¬ëŸ¬ ë™ì˜ìƒ ê°€ì ¸ì˜¤ê¸°</div>
                    </button>
                </li>
                <li>
                    <button class="dropdown-item" type="button" @click="openVimeoBatchModal">
                        <span class="me-2">ğŸ¬</span>
                        <strong>Vimeo ì¼ê´„ ê°€ì ¸ì˜¤ê¸°</strong>
                        <div class="small text-muted">ì‡¼ì¼€ì´ìŠ¤/ì•¨ë²”ì—ì„œ ì—¬ëŸ¬ ë™ì˜ìƒ ê°€ì ¸ì˜¤ê¸°</div>
                    </button>
                </li>
            </ul>
        </div>
    </div>

    <!-- í†µê³„ -->
    <div class="row g-3 mb-4">
        <div class="col-sm-6 col-lg-3">
            <div class="card border-0 shadow-sm">
                <div class="card-body d-flex align-items-center">
                    <div class="rounded-circle bg-primary bg-opacity-10 p-3 me-3">
                        <span class="fs-4">ğŸ¬</span>
                    </div>
                    <div>
                        <div class="fs-5 fw-bold">{{ stats.videos }}</div>
                        <div class="text-muted small">ë™ì˜ìƒ</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="card border-0 shadow-sm">
                <div class="card-body d-flex align-items-center">
                    <div class="rounded-circle bg-success bg-opacity-10 p-3 me-3">
                        <span class="fs-4">ğŸ“„</span>
                    </div>
                    <div>
                        <div class="fs-5 fw-bold">{{ stats.documents }}</div>
                        <div class="text-muted small">ë¬¸ì„œ</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="card border-0 shadow-sm">
                <div class="card-body d-flex align-items-center">
                    <div class="rounded-circle bg-warning bg-opacity-10 p-3 me-3">
                        <span class="fs-4">ğŸ–¼ï¸</span>
                    </div>
                    <div>
                        <div class="fs-5 fw-bold">{{ stats.images }}</div>
                        <div class="text-muted small">ì´ë¯¸ì§€</div>
                    </div>
                </div>
            </div>
        </div>
        <div class="col-sm-6 col-lg-3">
            <div class="card border-0 shadow-sm">
                <div class="card-body d-flex align-items-center">
                    <div class="rounded-circle bg-info bg-opacity-10 p-3 me-3">
                        <span class="fs-4">ğŸ’¾</span>
                    </div>
                    <div>
                        <div class="fs-5 fw-bold">{{ stats.totalSize }}</div>
                        <div class="text-muted small">ì „ì²´ ìš©ëŸ‰</div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- í•„í„° & ê²€ìƒ‰ -->
    <div class="card border-0 shadow-sm mb-4">
        <div class="card-body">
            <div class="row g-3 align-items-center">
                <div class="col-md-2">
                    <select class="form-select" v-model="filters.type">
                        <option value="">ì „ì²´ ìœ í˜•</option>
                        <option value="video">ë™ì˜ìƒ</option>
                        <option value="document">ë¬¸ì„œ</option>
                        <option value="image">ì´ë¯¸ì§€</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <select class="form-select" v-model="filters.course">
                        <option value="">ì „ì²´ ê°•ì¢Œ</option>
                        <option v-for="c in courseList" :key="c">{{ c }}</option>
                    </select>
                </div>
                <div class="col-md-4">
                    <div class="input-group">
                        <span class="input-group-text bg-white">ğŸ”</span>
                        <input type="text" class="form-control" placeholder="íŒŒì¼ëª… ê²€ìƒ‰..." v-model="searchQuery">
                    </div>
                </div>
                <div class="col-md-2">
                    <select class="form-select" v-model="sortBy">
                        <option value="date">ìµœì‹ ìˆœ</option>
                        <option value="name">ì´ë¦„ìˆœ</option>
                        <option value="size">í¬ê¸°ìˆœ</option>
                    </select>
                </div>
                <div class="col-md-2">
                    <div class="btn-group w-100">
                        <button class="btn" :class="viewMode === 'grid' ? 'btn-primary' : 'btn-outline-secondary'" @click="viewMode = 'grid'">
                            â–¦
                        </button>
                        <button class="btn" :class="viewMode === 'list' ? 'btn-primary' : 'btn-outline-secondary'" @click="viewMode = 'list'">
                            â˜°
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- í´ë” + ì½˜í…ì¸  ì˜ì—­ -->
    <div class="row g-4">
        <!-- ì™¼ìª½: í´ë” ëª©ë¡ -->
        <div class="col-lg-3">
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white border-bottom d-flex justify-content-between align-items-center">
                    <h6 class="mb-0">ğŸ“ í´ë”</h6>
                    <button class="btn btn-sm btn-outline-primary" @click="openCreateFolderModal">+</button>
                </div>
                <div class="card-body p-0">
                    <div class="list-group list-group-flush">
                        <!-- ì „ì²´ ì½˜í…ì¸  -->
                        <a
                            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
                            :class="{ 'active': selectedFolderId === null }"
                            @click="selectFolder(null)"
                            role="button"
                        >
                            <span><span class="me-2">ğŸ“‚</span> ì „ì²´ ì½˜í…ì¸ </span>
                            <span class="badge bg-secondary rounded-pill">{{ files.length }}</span>
                        </a>

                        <!-- í´ë” ëª©ë¡ -->
                        <div
                            v-for="folder in folders"
                            :key="folder.id"
                            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center"
                            :class="{ 'active': selectedFolderId === folder.id }"
                        >
                            <a
                                class="flex-grow-1 text-decoration-none text-reset"
                                @click="selectFolder(folder.id)"
                                role="button"
                            >
                                <span :style="{ color: folder.color }">{{ folder.icon }}</span>
                                <span class="ms-2">{{ folder.name }}</span>
                            </a>
                            <div class="d-flex align-items-center gap-2">
                                <span class="badge bg-secondary rounded-pill">{{ folder.count }}</span>
                                <div class="dropdown" @click.stop>
                                    <button class="btn btn-sm btn-link text-muted p-0" data-bs-toggle="dropdown">â‹®</button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" @click.stop="openEditFolderModal(folder)">âœï¸ ìˆ˜ì •</a></li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item text-danger" @click.stop="deleteFolder(folder.id)">ğŸ—‘ï¸ ì‚­ì œ</a></li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                        <!-- ë¯¸ë¶„ë¥˜ -->
                        <a
                            class="list-group-item list-group-item-action d-flex justify-content-between align-items-center text-muted"
                            :class="{ 'active': selectedFolderId === 0 }"
                            @click="selectFolder(0)"
                            role="button"
                        >
                            <span><span class="me-2">ğŸ“‹</span> ë¯¸ë¶„ë¥˜</span>
                            <span class="badge bg-secondary rounded-pill">{{ files.filter(f => !f.folderId).length }}</span>
                        </a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ì˜¤ë¥¸ìª½: ì½˜í…ì¸  ì˜ì—­ -->
        <div class="col-lg-9">
            <!-- ê·¸ë¦¬ë“œ ë·° -->
            <div class="row g-3" v-if="viewMode === 'grid'">
                <div class="col-6 col-md-4 col-lg-3" v-for="file in filteredFiles" :key="file.id">
            <div class="card border-0 shadow-sm h-100 content-card" @click="selectFile(file)">
                <div class="card-body p-2">
                    <div class="content-thumbnail rounded mb-2 d-flex align-items-center justify-content-center"
                         :class="getThumbnailClass(file.type)">
                        <span class="fs-1">{{ getFileIcon(file.type) }}</span>
                    </div>
                    <div class="small fw-medium text-truncate" :title="file.name" @click="viewDetail(file)" style="cursor: pointer;">{{ file.name }}</div>
                    <div class="small text-muted">{{ file.size }}</div>
                </div>
                <div class="card-footer bg-transparent border-0 p-2 pt-0">
                    <div class="d-flex justify-content-between align-items-center">
                        <span class="badge bg-light text-dark small">{{ file.course || 'ë¯¸ë°°ì •' }}</span>
                        <div class="dropdown">
                            <button class="btn btn-sm btn-link text-muted p-0" data-bs-toggle="dropdown" @click.stop>â‹®</button>
                            <ul class="dropdown-menu dropdown-menu-end">
                                <li><a class="dropdown-item" href="#" @click.stop="previewFile(file)">ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°</a></li>
                                <li><a class="dropdown-item" href="#" @click.stop="downloadFile(file)">ğŸ“¥ ë‹¤ìš´ë¡œë“œ</a></li>
                                <li><a class="dropdown-item" href="#" @click.stop="editFile(file)">âœï¸ ì •ë³´ ìˆ˜ì •</a></li>
                                <li><hr class="dropdown-divider"></li>
                                <li><a class="dropdown-item text-danger" href="#" @click.stop="deleteFile(file)">ğŸ—‘ï¸ ì‚­ì œ</a></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            </div>

            <!-- ë¦¬ìŠ¤íŠ¸ ë·° -->
            <div class="card border-0 shadow-sm" v-if="viewMode === 'list'">
                <div class="card-body p-0">
                    <div class="table-responsive">
                        <table class="table table-hover align-middle mb-0">
                            <thead class="table-light">
                                <tr>
                                    <th><input type="checkbox" class="form-check-input"></th>
                                    <th>íŒŒì¼ëª…</th>
                                    <th>ìœ í˜•</th>
                                    <th>ê°•ì¢Œ</th>
                                    <th class="text-end">í¬ê¸°</th>
                                    <th>ì—…ë¡œë“œì¼</th>
                                    <th style="width: 100px;"></th>
                                </tr>
                            </thead>
                            <tbody>
                                <tr v-for="file in filteredFiles" :key="file.id">
                            <td><input type="checkbox" class="form-check-input"></td>
                            <td>
                                <div class="d-flex align-items-center">
                                    <span class="fs-4 me-2">{{ getFileIcon(file.type) }}</span>
                                    <span class="fw-medium" @click="viewDetail(file)" style="cursor: pointer;">{{ file.name }}</span>
                                </div>
                            </td>
                            <td><span class="badge bg-light text-dark">{{ getFileTypeText(file.type) }}</span></td>
                            <td>{{ file.course || '-' }}</td>
                            <td class="text-end">{{ file.size }}</td>
                            <td>{{ file.uploadDate }}</td>
                            <td>
                                <div class="dropdown">
                                    <button class="btn btn-link text-muted p-0" data-bs-toggle="dropdown">â‹®</button>
                                    <ul class="dropdown-menu dropdown-menu-end">
                                        <li><a class="dropdown-item" href="#" @click="previewFile(file)">ğŸ‘ï¸ ë¯¸ë¦¬ë³´ê¸°</a></li>
                                        <li><a class="dropdown-item" href="#" @click="downloadFile(file)">ğŸ“¥ ë‹¤ìš´ë¡œë“œ</a></li>
                                        <li><a class="dropdown-item" href="#" @click="editFile(file)">âœï¸ ì •ë³´ ìˆ˜ì •</a></li>
                                        <li><hr class="dropdown-divider"></li>
                                        <li><a class="dropdown-item text-danger" href="#" @click="deleteFile(file)">ğŸ—‘ï¸ ì‚­ì œ</a></li>
                                    </ul>
                                </div>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </div>
    </div>

    <!-- í˜ì´ì§€ë„¤ì´ì…˜ -->
    <div class="d-flex justify-content-center mt-4">
        <nav>
            <ul class="pagination">
                <li class="page-item disabled"><a class="page-link" href="#">ì´ì „</a></li>
                <li class="page-item active"><a class="page-link" href="#">1</a></li>
                <li class="page-item"><a class="page-link" href="#">2</a></li>
                <li class="page-item"><a class="page-link" href="#">3</a></li>
                <li class="page-item"><a class="page-link" href="#">ë‹¤ìŒ</a></li>
            </ul>
        </nav>
    </div>

    <!-- YouTube ë‹¨ì¼ ê°€ì ¸ì˜¤ê¸° ëª¨ë‹¬ -->
    <div class="modal fade" id="youtubeModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ğŸ“º YouTube ë™ì˜ìƒ ê°€ì ¸ì˜¤ê¸°</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">YouTube URL</label>
                        <input type="text" class="form-control" v-model="youtubeForm.url"
                               placeholder="https://www.youtube.com/watch?v=..."
                               @input="debounceYoutubeExtract">
                        <div class="form-text">ë™ì˜ìƒ URLì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤</div>
                    </div>

                    <div v-if="youtubeForm.loading" class="text-center py-4">
                        <div class="spinner-border text-primary" role="status"></div>
                        <p class="mt-2 text-muted">ë™ì˜ìƒ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>
                    </div>

                    <div v-if="youtubeForm.videoData" class="card border-0 bg-light mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <img :src="youtubeForm.videoData.thumbnail" class="img-fluid rounded" alt="ì¸ë„¤ì¼">
                                </div>
                                <div class="col-md-8">
                                    <h6 class="fw-bold">{{ youtubeForm.videoData.title }}</h6>
                                    <p class="small text-muted mb-2">{{ youtubeForm.videoData.description }}</p>
                                    <div class="small">
                                        <span class="badge bg-primary me-1">â±ï¸ {{ youtubeForm.videoData.duration }}</span>
                                        <span class="badge bg-secondary me-1">ğŸ‘ï¸ {{ youtubeForm.videoData.views }}</span>
                                        <span class="badge bg-success">ğŸ“… {{ youtubeForm.videoData.publishedAt }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div v-if="youtubeForm.videoData">
                        <div class="mb-3">
                            <label class="form-label">ì œëª© <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" v-model="youtubeForm.title">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ì„¤ëª…</label>
                            <textarea class="form-control" rows="3" v-model="youtubeForm.description"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ê°•ì¢Œ ë°°ì •</label>
                            <select class="form-select" v-model="youtubeForm.course">
                                <option value="">ë¯¸ë°°ì •</option>
                                <option v-for="c in courseList" :key="c">{{ c }}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                    <button type="button" class="btn btn-primary" @click="saveYoutubeVideo"
                            :disabled="!youtubeForm.videoData || !youtubeForm.title">ê°€ì ¸ì˜¤ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Vimeo ë‹¨ì¼ ê°€ì ¸ì˜¤ê¸° ëª¨ë‹¬ -->
    <div class="modal fade" id="vimeoModal" tabindex="-1">
        <div class="modal-dialog modal-lg">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ğŸ¬ Vimeo ë™ì˜ìƒ ê°€ì ¸ì˜¤ê¸°</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">Vimeo URL</label>
                        <input type="text" class="form-control" v-model="vimeoForm.url"
                               placeholder="https://vimeo.com/..."
                               @input="debounceVimeoExtract">
                        <div class="form-text">ë™ì˜ìƒ URLì„ ì…ë ¥í•˜ë©´ ìë™ìœ¼ë¡œ ì •ë³´ë¥¼ ê°€ì ¸ì˜µë‹ˆë‹¤</div>
                    </div>

                    <div v-if="vimeoForm.loading" class="text-center py-4">
                        <div class="spinner-border text-primary" role="status"></div>
                        <p class="mt-2 text-muted">ë™ì˜ìƒ ì •ë³´ë¥¼ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>
                    </div>

                    <div v-if="vimeoForm.videoData" class="card border-0 bg-light mb-3">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-md-4">
                                    <img :src="vimeoForm.videoData.thumbnail" class="img-fluid rounded" alt="ì¸ë„¤ì¼">
                                </div>
                                <div class="col-md-8">
                                    <h6 class="fw-bold">{{ vimeoForm.videoData.title }}</h6>
                                    <p class="small text-muted mb-2">{{ vimeoForm.videoData.description }}</p>
                                    <div class="small">
                                        <span class="badge bg-primary me-1">â±ï¸ {{ vimeoForm.videoData.duration }}</span>
                                        <span class="badge bg-secondary me-1">ğŸ‘ï¸ {{ vimeoForm.videoData.views }}</span>
                                        <span class="badge bg-success">ğŸ“… {{ vimeoForm.videoData.publishedAt }}</span>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div v-if="vimeoForm.videoData">
                        <div class="mb-3">
                            <label class="form-label">ì œëª© <span class="text-danger">*</span></label>
                            <input type="text" class="form-control" v-model="vimeoForm.title">
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ì„¤ëª…</label>
                            <textarea class="form-control" rows="3" v-model="vimeoForm.description"></textarea>
                        </div>
                        <div class="mb-3">
                            <label class="form-label">ê°•ì¢Œ ë°°ì •</label>
                            <select class="form-select" v-model="vimeoForm.course">
                                <option value="">ë¯¸ë°°ì •</option>
                                <option v-for="c in courseList" :key="c">{{ c }}</option>
                            </select>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                    <button type="button" class="btn btn-primary" @click="saveVimeoVideo"
                            :disabled="!vimeoForm.videoData || !vimeoForm.title">ê°€ì ¸ì˜¤ê¸°</button>
                </div>
            </div>
        </div>
    </div>

    <!-- YouTube ì¼ê´„ ê°€ì ¸ì˜¤ê¸° ëª¨ë‹¬ -->
    <div class="modal fade" id="youtubeBatchModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ğŸ“º YouTube ì¼ê´„ ê°€ì ¸ì˜¤ê¸°</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">ê°€ì ¸ì˜¤ê¸° ë°©ë²•</label>
                        <div class="btn-group w-100 mb-3">
                            <button type="button" class="btn"
                                    :class="youtubeBatchForm.type === 'playlist' ? 'btn-primary' : 'btn-outline-secondary'"
                                    @click="youtubeBatchForm.type = 'playlist'">
                                ğŸ“‹ ì¬ìƒëª©ë¡
                            </button>
                            <button type="button" class="btn"
                                    :class="youtubeBatchForm.type === 'channel' ? 'btn-primary' : 'btn-outline-secondary'"
                                    @click="youtubeBatchForm.type = 'channel'">
                                ğŸ“º ì±„ë„
                            </button>
                        </div>

                        <input type="text" class="form-control" v-model="youtubeBatchForm.url"
                               :placeholder="youtubeBatchForm.type === 'playlist'
                                   ? 'https://www.youtube.com/playlist?list=...'
                                   : 'https://www.youtube.com/channel/... ë˜ëŠ” @username'"
                               @input="debounceYoutubeBatchExtract">
                        <div class="form-text">
                            {{ youtubeBatchForm.type === 'playlist' ? 'ì¬ìƒëª©ë¡' : 'ì±„ë„' }} URLì„ ì…ë ¥í•˜ì„¸ìš”
                        </div>
                    </div>

                    <div v-if="youtubeBatchForm.loading" class="text-center py-4">
                        <div class="spinner-border text-primary" role="status"></div>
                        <p class="mt-2 text-muted">ë™ì˜ìƒ ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>
                    </div>

                    <div v-if="youtubeBatchForm.videos.length > 0">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div>
                                <h6 class="mb-0">ë™ì˜ìƒ {{ youtubeBatchForm.videos.length }}ê°œ ë°œê²¬</h6>
                                <small class="text-muted">ê°€ì ¸ì˜¬ ë™ì˜ìƒì„ ì„ íƒí•˜ì„¸ìš”</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary me-2" @click="selectAllYoutubeVideos">
                                    ì „ì²´ ì„ íƒ
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" @click="deselectAllYoutubeVideos">
                                    ì „ì²´ í•´ì œ
                                </button>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">ê°•ì¢Œ ë°°ì • (ì„ íƒëœ ëª¨ë“  ë™ì˜ìƒì— ì ìš©)</label>
                            <select class="form-select" v-model="youtubeBatchForm.course">
                                <option value="">ë¯¸ë°°ì •</option>
                                <option v-for="c in courseList" :key="c">{{ c }}</option>
                            </select>
                        </div>

                        <div style="max-height: 400px; overflow-y: auto;">
                            <div v-for="video in youtubeBatchForm.videos" :key="video.id"
                                 class="card border mb-2"
                                 :class="{'border-primary': video.selected}">
                                <div class="card-body p-2">
                                    <div class="row align-items-center">
                                        <div class="col-auto">
                                            <input type="checkbox" class="form-check-input"
                                                   v-model="video.selected" style="transform: scale(1.2);">
                                        </div>
                                        <div class="col-auto">
                                            <img :src="video.thumbnail" style="width: 120px; height: 68px; object-fit: cover;"
                                                 class="rounded" alt="ì¸ë„¤ì¼">
                                        </div>
                                        <div class="col">
                                            <h6 class="mb-1 small fw-bold">{{ video.title }}</h6>
                                            <div class="small text-muted">
                                                <span class="me-2">â±ï¸ {{ video.duration }}</span>
                                                <span class="me-2">ğŸ‘ï¸ {{ video.views }}</span>
                                                <span>ğŸ“… {{ video.publishedAt }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                    <button type="button" class="btn btn-primary" @click="saveYoutubeBatch"
                            :disabled="!youtubeBatchForm.videos.some(v => v.selected)">
                        ì„ íƒí•œ {{ youtubeBatchForm.videos.filter(v => v.selected).length }}ê°œ ê°€ì ¸ì˜¤ê¸°
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Vimeo ì¼ê´„ ê°€ì ¸ì˜¤ê¸° ëª¨ë‹¬ -->
    <div class="modal fade" id="vimeoBatchModal" tabindex="-1">
        <div class="modal-dialog modal-xl">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">ğŸ¬ Vimeo ì¼ê´„ ê°€ì ¸ì˜¤ê¸°</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">ê°€ì ¸ì˜¤ê¸° ë°©ë²•</label>
                        <div class="btn-group w-100 mb-3">
                            <button type="button" class="btn"
                                    :class="vimeoBatchForm.type === 'showcase' ? 'btn-primary' : 'btn-outline-secondary'"
                                    @click="vimeoBatchForm.type = 'showcase'">
                                ğŸ¨ ì‡¼ì¼€ì´ìŠ¤
                            </button>
                            <button type="button" class="btn"
                                    :class="vimeoBatchForm.type === 'album' ? 'btn-primary' : 'btn-outline-secondary'"
                                    @click="vimeoBatchForm.type = 'album'">
                                ğŸ“ ì•¨ë²”
                            </button>
                            <button type="button" class="btn"
                                    :class="vimeoBatchForm.type === 'channel' ? 'btn-primary' : 'btn-outline-secondary'"
                                    @click="vimeoBatchForm.type = 'channel'">
                                ğŸ“º ì±„ë„
                            </button>
                        </div>

                        <input type="text" class="form-control" v-model="vimeoBatchForm.url"
                               :placeholder="'https://vimeo.com/showcase/... ë˜ëŠ” /channels/... ë˜ëŠ” /album/...'"
                               @input="debounceVimeoBatchExtract">
                        <div class="form-text">
                            {{ vimeoBatchForm.type === 'showcase' ? 'ì‡¼ì¼€ì´ìŠ¤' : vimeoBatchForm.type === 'album' ? 'ì•¨ë²”' : 'ì±„ë„' }} URLì„ ì…ë ¥í•˜ì„¸ìš”
                        </div>
                    </div>

                    <div v-if="vimeoBatchForm.loading" class="text-center py-4">
                        <div class="spinner-border text-primary" role="status"></div>
                        <p class="mt-2 text-muted">ë™ì˜ìƒ ëª©ë¡ì„ ê°€ì ¸ì˜¤ëŠ” ì¤‘...</p>
                    </div>

                    <div v-if="vimeoBatchForm.videos.length > 0">
                        <div class="d-flex justify-content-between align-items-center mb-3">
                            <div>
                                <h6 class="mb-0">ë™ì˜ìƒ {{ vimeoBatchForm.videos.length }}ê°œ ë°œê²¬</h6>
                                <small class="text-muted">ê°€ì ¸ì˜¬ ë™ì˜ìƒì„ ì„ íƒí•˜ì„¸ìš”</small>
                            </div>
                            <div>
                                <button class="btn btn-sm btn-outline-primary me-2" @click="selectAllVimeoVideos">
                                    ì „ì²´ ì„ íƒ
                                </button>
                                <button class="btn btn-sm btn-outline-secondary" @click="deselectAllVimeoVideos">
                                    ì „ì²´ í•´ì œ
                                </button>
                            </div>
                        </div>

                        <div class="mb-3">
                            <label class="form-label">ê°•ì¢Œ ë°°ì • (ì„ íƒëœ ëª¨ë“  ë™ì˜ìƒì— ì ìš©)</label>
                            <select class="form-select" v-model="vimeoBatchForm.course">
                                <option value="">ë¯¸ë°°ì •</option>
                                <option v-for="c in courseList" :key="c">{{ c }}</option>
                            </select>
                        </div>

                        <div style="max-height: 400px; overflow-y: auto;">
                            <div v-for="video in vimeoBatchForm.videos" :key="video.id"
                                 class="card border mb-2"
                                 :class="{'border-primary': video.selected}">
                                <div class="card-body p-2">
                                    <div class="row align-items-center">
                                        <div class="col-auto">
                                            <input type="checkbox" class="form-check-input"
                                                   v-model="video.selected" style="transform: scale(1.2);">
                                        </div>
                                        <div class="col-auto">
                                            <img :src="video.thumbnail" style="width: 120px; height: 68px; object-fit: cover;"
                                                 class="rounded" alt="ì¸ë„¤ì¼">
                                        </div>
                                        <div class="col">
                                            <h6 class="mb-1 small fw-bold">{{ video.title }}</h6>
                                            <div class="small text-muted">
                                                <span class="me-2">â±ï¸ {{ video.duration }}</span>
                                                <span class="me-2">ğŸ‘ï¸ {{ video.views }}</span>
                                                <span>ğŸ“… {{ video.publishedAt }}</span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">ì·¨ì†Œ</button>
                    <button type="button" class="btn btn-primary" @click="saveVimeoBatch"
                            :disabled="!vimeoBatchForm.videos.some(v => v.selected)">
                        ì„ íƒí•œ {{ vimeoBatchForm.videos.filter(v => v.selected).length }}ê°œ ê°€ì ¸ì˜¤ê¸°
                    </button>
                </div>
            </div>
        </div>
    </div>
</div>

<style>
.content-card {
    cursor: pointer;
    transition: transform 0.2s, box-shadow 0.2s;
}
.content-card:hover {
    transform: translateY(-2px);
    box-shadow: 0 4px 12px rgba(0,0,0,0.15) !important;
}
.content-thumbnail {
    height: 100px;
}
.content-thumbnail.video { background-color: #e3f2fd; }
.content-thumbnail.document { background-color: #e8f5e9; }
.content-thumbnail.image { background-color: #fff3e0; }
</style>

    <!-- í´ë” ìƒì„±/ìˆ˜ì • ëª¨ë‹¬ -->
    <div v-if="showFolderModal" class="modal d-block" tabindex="-1" style="background: rgba(0,0,0,0.5);">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title">{{ folderForm.id ? 'í´ë” ìˆ˜ì •' : 'í´ë” ìƒì„±' }}</h5>
                    <button type="button" class="btn-close" @click="showFolderModal = false"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label class="form-label">í´ë” ì´ë¦„ <span class="text-danger">*</span></label>
                        <input type="text" class="form-control" v-model="folderForm.name" placeholder="ì˜ˆ: í”„ë¡œê·¸ë˜ë°">
                    </div>
                    <div class="mb-3">
                        <label class="form-label">ì•„ì´ì½˜</label>
                        <div class="d-flex gap-2 flex-wrap">
                            <button
                                v-for="icon in ['ğŸ“', 'ğŸ’»', 'ğŸ¨', 'ğŸ“¢', 'ğŸ’¼', 'ğŸ¬', 'ğŸ“š', 'ğŸ”¬', 'âš¡', 'ğŸ¯']"
                                :key="icon"
                                type="button"
                                class="btn btn-outline-secondary"
                                :class="{ 'active': folderForm.icon === icon }"
                                @click="folderForm.icon = icon"
                            >
                                {{ icon }}
                            </button>
                        </div>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">ìƒ‰ìƒ</label>
                        <div class="d-flex gap-2 flex-wrap">
                            <button
                                v-for="color in ['#3b82f6', '#8b5cf6', '#10b981', '#f59e0b', '#ef4444', '#ec4899', '#06b6d4', '#84cc16']"
                                :key="color"
                                type="button"
                                class="btn"
                                :style="{ backgroundColor: color, width: '40px', height: '40px', border: folderForm.color === color ? '3px solid #000' : '1px solid #ddd' }"
                                @click="folderForm.color = color"
                            ></button>
                        </div>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" @click="showFolderModal = false">ì·¨ì†Œ</button>
                    <button type="button" class="btn btn-primary" @click="saveFolderForm">ì €ì¥</button>
                </div>
            </div>
        </div>
    </div>
