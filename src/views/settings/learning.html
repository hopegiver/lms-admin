<div class="learning-settings-page">
    <!-- 페이지 헤더 -->
    <div class="d-flex justify-content-between align-items-center mb-4">
        <div>
            <h4 class="mb-1">학습 설정</h4>
            <p class="text-muted mb-0">학습 관련 기본 설정을 관리합니다</p>
        </div>
        <button class="btn btn-primary" @click="saveSettings">
            <span class="me-1">💾</span> 저장
        </button>
    </div>

    <div class="row">
        <div class="col-lg-8">
            <!-- 수강 기본 설정 -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">수강 기본 설정</h6>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">기본 수강 기간</label>
                            <div class="input-group">
                                <input type="number" class="form-control" v-model="settings.defaultEnrollmentDays">
                                <span class="input-group-text">일</span>
                            </div>
                            <div class="form-text">강좌별 개별 설정이 없는 경우 적용됩니다</div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">수강 기간 연장 허용</label>
                            <select class="form-select" v-model="settings.allowExtension">
                                <option value="none">허용 안함</option>
                                <option value="free">무료 연장</option>
                                <option value="paid">유료 연장</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">최대 연장 횟수</label>
                            <input type="number" class="form-control" v-model="settings.maxExtensions">
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">연장 기간 (일)</label>
                            <input type="number" class="form-control" v-model="settings.extensionDays">
                        </div>
                    </div>
                </div>
            </div>

            <!-- 학습 진행 설정 -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">학습 진행 설정</h6>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">수료 기준 (%)</label>
                            <input type="number" class="form-control" v-model="settings.completionThreshold" min="0" max="100">
                            <div class="form-text">강좌 수료로 인정되는 최소 진도율</div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">영상 완료 기준 (%)</label>
                            <input type="number" class="form-control" v-model="settings.videoCompletionThreshold" min="0" max="100">
                            <div class="form-text">영상을 완료로 인정하는 시청률</div>
                        </div>
                        <div class="col-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="sequentialLearning" v-model="settings.sequentialLearning">
                                <label class="form-check-label" for="sequentialLearning">순차 학습 강제</label>
                            </div>
                            <div class="form-text">체크 시 이전 강의를 완료해야 다음 강의 수강 가능</div>
                        </div>
                        <div class="col-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="allowSeek" v-model="settings.allowSeek">
                                <label class="form-check-label" for="allowSeek">영상 탐색 허용</label>
                            </div>
                            <div class="form-text">체크 해제 시 영상을 건너뛰기 할 수 없음</div>
                        </div>
                        <div class="col-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="allowSpeedControl" v-model="settings.allowSpeedControl">
                                <label class="form-check-label" for="allowSpeedControl">배속 조절 허용</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 수료증 설정 -->
            <div class="card border-0 shadow-sm mb-4">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">수료증 설정</h6>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-12">
                            <div class="form-check form-switch">
                                <input class="form-check-input" type="checkbox" id="enableCertificate" v-model="settings.enableCertificate">
                                <label class="form-check-label" for="enableCertificate">수료증 발급 활성화</label>
                            </div>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">수료증 유형</label>
                            <select class="form-select" v-model="settings.certificateType" :disabled="!settings.enableCertificate">
                                <option value="auto">자동 발급</option>
                                <option value="request">신청 발급</option>
                                <option value="review">검토 후 발급</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">수료증 유효기간</label>
                            <select class="form-select" v-model="settings.certificateValidity" :disabled="!settings.enableCertificate">
                                <option value="unlimited">무제한</option>
                                <option value="1year">1년</option>
                                <option value="2years">2년</option>
                                <option value="3years">3년</option>
                            </select>
                        </div>
                    </div>
                </div>
            </div>

            <!-- 플레이어 설정 -->
            <div class="card border-0 shadow-sm">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">플레이어 설정</h6>
                </div>
                <div class="card-body">
                    <div class="row g-3">
                        <div class="col-md-6">
                            <label class="form-label">기본 화질</label>
                            <select class="form-select" v-model="settings.defaultQuality">
                                <option value="auto">자동</option>
                                <option value="1080p">1080p</option>
                                <option value="720p">720p</option>
                                <option value="480p">480p</option>
                            </select>
                        </div>
                        <div class="col-md-6">
                            <label class="form-label">자동 재생</label>
                            <select class="form-select" v-model="settings.autoplay">
                                <option value="off">끄기</option>
                                <option value="on">켜기</option>
                                <option value="muted">음소거 자동재생</option>
                            </select>
                        </div>
                        <div class="col-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="showSubtitles" v-model="settings.showSubtitles">
                                <label class="form-check-label" for="showSubtitles">자막 기본 표시</label>
                            </div>
                        </div>
                        <div class="col-12">
                            <div class="form-check">
                                <input class="form-check-input" type="checkbox" id="continuePlaying" v-model="settings.continuePlaying">
                                <label class="form-check-label" for="continuePlaying">다음 영상 자동 재생</label>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="col-lg-4">
            <div class="card border-0 shadow-sm sticky-top" style="top: 80px;">
                <div class="card-header bg-white py-3">
                    <h6 class="mb-0">설정 요약</h6>
                </div>
                <div class="card-body">
                    <ul class="list-unstyled mb-0">
                        <li class="d-flex justify-content-between py-2 border-bottom">
                            <span class="text-muted">기본 수강 기간</span>
                            <span class="fw-medium">{{ settings.defaultEnrollmentDays }}일</span>
                        </li>
                        <li class="d-flex justify-content-between py-2 border-bottom">
                            <span class="text-muted">수료 기준</span>
                            <span class="fw-medium">{{ settings.completionThreshold }}%</span>
                        </li>
                        <li class="d-flex justify-content-between py-2 border-bottom">
                            <span class="text-muted">영상 완료 기준</span>
                            <span class="fw-medium">{{ settings.videoCompletionThreshold }}%</span>
                        </li>
                        <li class="d-flex justify-content-between py-2 border-bottom">
                            <span class="text-muted">순차 학습</span>
                            <span class="fw-medium">{{ settings.sequentialLearning ? '강제' : '자유' }}</span>
                        </li>
                        <li class="d-flex justify-content-between py-2">
                            <span class="text-muted">수료증</span>
                            <span class="fw-medium">{{ settings.enableCertificate ? '활성' : '비활성' }}</span>
                        </li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>
